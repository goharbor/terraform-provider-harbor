---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "harbor_retention_policy Resource - terraform-provider-harbor"
subcategory: ""
description: |-
  
---

# harbor_retention_policy (Resource)

<!-- schema generated by tfplugindocs -->

## Example Usage

```terraform
resource "harbor_project" "main" {
  name = "acctest"
}

resource "harbor_retention_policy" "main" {
  scope = harbor_project.main.id
  schedule = "Daily"
  rule {
    n_days_since_last_pull = 5
    repo_matching = "**"
    tag_matching = "latest"
  }
  rule {
    n_days_since_last_push = 10
    repo_matching = "**"
    tag_matching = "{latest,snapshot}"
  }
}
```

## Schema

### Required

- `rule` (Block List, Min: 1, Max: 15) (see [below for nested schema](#nestedblock--rule))
- `scope` (String) The project id of which you would like to apply this policy.

### Optional

- `schedule` (String) The schedule of when you would like the policy to run. This can be `Hourly`, `Daily`, `Weekly` or can be a custom cron string.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--rule"></a>

### Nested Schema for `rule`

Optional:

- `always_retain` (Boolean) retain always.
- `disabled` (Boolean) Specify if the rule is disable or not. Defaults to `false`
- `most_recently_pulled` (Number) retain the most recently pulled n artifacts.
- `most_recently_pushed` (Number) retain the most recently pushed n artifacts.
- `n_days_since_last_pull` (Number) retains the artifacts pulled within the lasts n days.
- `n_days_since_last_push` (Number) retains the artifacts pushed within the lasts n days.
- `repo_excluding` (String) For the repositories excluding.
- `repo_matching` (String) For the repositories matching.
- `tag_excluding` (String) For the tag excluding.
- `tag_matching` (String) For the tag matching.
- `untagged_artifacts` (Boolean) with untagged artifacts. Defaults to `true`

## Import
Import is supported using the following syntax with the `retention_policy` `id`:

```shell
terraform import harbor_retention_policy.main /retentions/10
```
